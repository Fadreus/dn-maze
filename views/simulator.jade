extends layout

block custom_script
  - var urls  = {}
  - urls.mainbar = fn.url.mainbar()
  - urls.border = fn.url.uitemplatetexture('uit_gesturebutton')
  - urls.job = fn.url.json(line[2].EnglishName)
  script(type='text/javascript', src=fn.url.js('dnss'))
  script(type='text/javascript').
    dnss(!{JSON.stringify(urls)})

block content
  div(class='container')
    div(class='row')
      each job in line
        div(class='col-md-4')
          div(class='panel panel-default')
            div(class='panel-heading')= job.JobName
              div(class='jobsprite', style=fn.image.job(job))
            div(class='panel-body')
              table(class='skill-table', style=fn.image.skilltree(job))
                each skillRow in job.SkillTree
                  tr(class='skill-tr')
                    each skillID in skillRow
                      - var skill = job.Skills[skillID]
                      td(class='skill-td')
                        if skill
                          div(class='skill',data-skill=skillID, data-sprite=[skill.Sprite, skill.IconCol, skill.IconRow].join(','))
                            div(class='skill-bdr' + (skill.Levels[1].LevelLimit == 1 ? '' : ' gray'))
                            div(class='badge skill-level') 16/29
                        else
                          div(class='skill')

